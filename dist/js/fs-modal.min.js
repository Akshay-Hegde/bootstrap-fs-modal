$(function(){var t=0;$("body").on("show.bs.modal",".modal.modal-fullscreen",function(){var a,d=$(this),n=d.find('.modal-footer .btn:not([data-dismiss="modal"])');d.find(".modal-header .pull-right, .modal-header [data-additional-close]").remove(),$('<div class="pull-right fullscreen-buttons">').prependTo(d.find(".modal-header")),$.each(n,function(){var a,n=t++,o=$(this),l=o.data("glyphicon"),e=o.data("mobileText")||o.text();$(this).attr("data-button-tag",n),l?(a=$("<button>").attr("title",e),$("<i>").addClass("glyphicon "+l).appendTo(a)):a=$("<button>").text(e),a.addClass("btn btn-link").attr("data-button-tag",n).appendTo(d.find(".modal-header .fullscreen-buttons:last"))}),$('<button class="btn btn-link btn-lg" type="button" data-dismiss="modal" aria-label="Close" data-additional-close>').prependTo(d.find(".modal-header")),$('<i class="glyphicon glyphicon-chevron-left">').prependTo(d.find(".modal-header button:first")),history.pushState(null,null,null),a=function(){d.data("hidden-by-back",!0),d.modal("hide")},$(window).one("popstate.fs-modal",a),d.one("hide.bs.modal",function(){$(window).off(".fs-modal",a),d.data("hidden-by-back")||history.back(),d.data("hidden-by-back",null)})}),$("body").on("click",".modal-header .fullscreen-buttons .btn-link",function(t){var a=$(this),d=a.data("buttonTag");a.parents(".modal-content").find(".modal-footer").find('[data-button-tag="'+d+'"]').click()})});